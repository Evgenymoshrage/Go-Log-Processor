# üß† Go Log Processor

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Go –¥–ª—è **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–æ–≥–æ–≤**, –∏—Ö **—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏** –∏ **–∞–Ω–∞–ª–∏–∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**.  
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –≥–æ—Ä—É—Ç–∏–Ω—ã –∏ –∫–∞–Ω–∞–ª—ã, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å —Ç–∞–π–º–∞—É—Ç–∞–º–∏ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `sync.Mutex`.

---

## ‚öôÔ∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ–≤ –∏–∑ CSV  
‚úÖ –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –∑–∞–¥–∞–Ω–Ω—ã–º —á–∏—Å–ª–æ–º –≤–æ—Ä–∫–µ—Ä–æ–≤  
‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤ –ø–æ HTTP-–∫–æ–¥–∞–º (2xx / 4xx / 5xx)  
‚úÖ –°–±–æ—Ä –∏ –≤—ã–≤–æ–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤;
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫;
- —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞;
- —Ç–æ–ø IP-–∞–¥—Ä–µ—Å–æ–≤ –ø–æ —á–∏—Å–ª—É –∑–∞–ø—Ä–æ—Å–æ–≤.  

‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å.

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
Go-Log-Processor/
‚îú‚îÄ‚îÄ cmd/
‚îÇ ‚îî‚îÄ‚îÄ main.go # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ internal/
‚îÇ ‚îú‚îÄ‚îÄ model/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ model.go # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä LogEntry –∏ Statistics
‚îÇ ‚îú‚îÄ‚îÄ processor/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ processor.go # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–æ–≥–æ–≤
‚îÇ ‚îú‚îÄ‚îÄ utilits/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ utilits.go # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –≤—ã–≤–æ–¥–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ ‚îî‚îÄ‚îÄ testdata/
‚îÇ ‚îî‚îÄ‚îÄ logs.csv # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ go.mod
‚îî‚îÄ‚îÄ README.md
```
---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/Evgenymoshrage/Go-Log-Processor.git
cd Go-Log-Processor
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
go mod tidy
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

```bash
 go run cmd/main.go
```

### üß© –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞
```bash
____________________________________________________________
                         –ó–∞–≥—Ä—É–∂–∞–µ–º –ª–æ–≥–∏!
____________________________________________________________
–£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ 100 –∑–∞–ø–∏—Å–µ–π
1: [2024-01-15 10:30:00] GET /index (status: 200, response: 123ms, IP: 192.168.0.1)
2: [2024-01-15 10:30:01] POST /login (status: 404, response: 87ms, IP: 192.168.0.2)
...
____________________________________________________________
                   –í–æ—Ä–∫–µ—Ä—ã –Ω–∞—á–∏–Ω–∞—é—Ç —Ä–∞–±–æ—Ç—É!
____________________________________________________________
[2024-01-15 10:30:02] –í–æ—Ä–∫–µ—Ä 1 –Ω–∞—á–∞–ª –æ–±—Ä–∞–±–æ—Ç–∫—É...
...
____________________________________________________________
                     –í—Å–µ –≤–æ—Ä–∫–µ—Ä—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ —Ä–∞–±–æ—Ç—É!
____________________________________________________________
=== 2xx ===
200 /index
...
=== 4xx ===
404 /login
...
____________________________________________________________
                         –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
____________________________________________________________
–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 100
–û—à–∏–±–æ–∫ (4xx/5xx): 25
–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 98.50 –º—Å
–¢–æ–ø 5 IP:
  1. 192.168.0.1 ‚Äî 12 –∑–∞–ø—Ä–æ—Å–æ–≤
  2. 192.168.0.2 ‚Äî 10 –∑–∞–ø—Ä–æ—Å–æ–≤
  3. ...
```

### üß† –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```bash
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	–û–ø–∏—Å–∞–Ω–∏–µ
LoadLogs	–ó–∞–≥—Ä—É–∂–∞–µ—Ç CSV-—Ñ–∞–π–ª –ª–æ–≥–æ–≤
ProcessLogs	–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø–∏—Å–∏ —Å –ø–æ–º–æ—â—å—é –≥–æ—Ä—É—Ç–∏–Ω
FilterLogs	–†–∞–∑–¥–µ–ª—è–µ—Ç –ª–æ–≥–∏ –Ω–∞ 2xx, 4xx, 5xx
UpdateStatistics	–û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
SummaryStatistics	–§–æ—Ä–º–∏—Ä—É–µ—Ç –∫—Ä–∞—Å–∏–≤—É—é —Å–≤–æ–¥–∫—É
PrintCentered	–ü–µ—á–∞—Ç–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø–æ —Ü–µ–Ω—Ç—Ä—É —Å –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ–º
```

### üßæ –§–æ—Ä–º–∞—Ç CSV (–ø—Ä–∏–º–µ—Ä internal/testdata/logs.csv)

```bash
timestamp,ip,method,url,status,response_time
2024-01-15 10:30:00,192.168.0.1,GET,/index,200,123
2024-01-15 10:30:01,192.168.0.2,POST,/login,404,87
2024-01-15 10:30:02,192.168.0.3,GET,/data,500,210
```

### üß∞ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

```bash
Go 1.22+
–û–°: Windows / Linux / macOS
```

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```text

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–ø–∏—Å–∞–Ω—ã —Ç–µ—Å—Ç—ã –≤ –ø–∞–∫–µ—Ç–µ processor.

–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
```

```bash
üß™ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
üì¶ –ü–∞–∫–µ—Ç	üß† –¢–µ—Å—Ç—ã	üîç –ü—Ä–æ–≤–µ—Ä—è—é—Ç
processor	TestLoadLogs, TestProcessLogs, TestFilterLogs, TestSummaryStatistics	–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è CSV, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ª–æ–≥–æ–≤ –∏ –ø–æ–¥—Å—á—ë—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
utilits	TestLogEntryToString	–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã LogEntry –≤ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—É—é —Å—Ç—Ä–æ–∫—É
model	‚Äî	–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (LogEntry, Statistics)
cmd	‚Äî	–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –Ω–µ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
```

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

–í –∫–∞—Ç–∞–ª–æ–≥–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
go test ./internal/processor
```

–ò–ª–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö:

```bash
go test -race ./...
```

–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:

```text
=== RUN   TestLogEntryToString
--- PASS: TestLogEntryToString (0.00s)
ok  	github.com/Evgenymoshrage/Go-Log-Processor/internal/utilits	0.002s
?   	github.com/Evgenymoshrage/Go-Log-Processor/cmd	        [no test files]
?   	github.com/Evgenymoshrage/Go-Log-Processor/internal/model	[no test files]
ok  	github.com/Evgenymoshrage/Go-Log-Processor/internal/processor	0.300s

–¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ CSV-—Ñ–∞–π–ª—ã –∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–æ–≥–æ–≤, –ø–æ–¥—Å—á—ë—Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∫–∞–Ω–∞–ª–æ–≤.
```

### üë®‚Äçüíª –ê–≤—Ç–æ—Ä

```bash
Evgenymoshrage
üì¶ GitHub: github.com/Evgenymoshrage
```